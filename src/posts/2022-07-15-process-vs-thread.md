---
title: "프로세스와 스레드의 차이 및 특징 분석"
date: "2022-07-15"
categories: ["OS", "Process", "Thread"]
excerpt: "프로세스와 스레드의 개념, 차이점, 멀티프로세스와 멀티스레드의 특징을 상세히 알아봅니다."
---
## 프로그램(Program)이란?

- 어떤 작업을 위해 실행할 수 있는 **파일**

## 프로세스(Process)란?

### 정의
- 컴퓨터에서 연속적으로 실행되고 있는 컴퓨터 프로그램
- 메모리에 올라와 실행되고 있는 프로그램의 인스턴스(독립적 개체)
- 운영체제로부터 시스템 자원을 할당받는 작업의 단위

### 할당받는 시스템 자원
- CPU 시간
- 운영되기 위해 필요한 주소 공간
- Code, Data, Stack, Heap의 구조로 된 독립된 메모리 영역

### 특징
- 프로세스는 각각 독립된 메모리 영역을 할당받음
- 기본적으로 프로세스당 최소 1개의 스레드(메인 스레드) 보유
- 각 프로세스는 별도의 주소 공간에서 실행
- 한 프로세스는 다른 프로세스의 변수나 자료구조에 접근 불가
- 프로세스 간 자원 접근을 위해서는 IPC(Inter-Process Communication) 필요
 - 파이프, 파일, 소켓 등을 이용한 통신방법 사용

## 스레드(Thread)란?

### 정의
- 프로세스 내에서 실행되는 여러 흐름의 단위
- 프로세스의 특정한 수행 경로
- 프로세스가 할당받은 자원을 이용하는 실행의 단위

### 특징
- 스레드는 프로세스 내에서 Stack만 따로 할당받음
- Code, Data, Heap 영역은 공유
- 프로세스 내의 주소 공간이나 자원들을 스레드끼리 공유
- 같은 프로세스 안의 스레드들은 힙 공간 공유
- 각 스레드는 별도의 레지스터와 스택 보유
- 한 스레드의 자원 변경 시 다른 스레드도 즉시 변경 내용 확인 가능

## 자바 스레드(Java Thread)

- JVM이 운영체제 역할 수행
- 자바에는 프로세스 없이 스레드만 존재
- 스레드 스케줄링은 JVM이 담당
- JVM이 관리하는 스레드 정보:
 - 스레드 개수
 - 스레드 프로그램 코드의 메모리 위치
 - 스레드 상태
 - 스레드 우선순위

## 멀티 프로세스

### 정의
- 하나의 응용프로그램을 여러 프로세스로 구성하여 처리

### 장점
- 한 프로세스 문제 발생 시 다른 프로세스에 영향 최소화

### 단점
- Context Switching 오버헤드
 - 캐시 메모리 초기화 등 무거운 작업 필요
- 복잡한 IPC 필요

## 멀티 스레드

### 정의
- 하나의 응용프로그램을 여러 스레드로 구성하여 처리
- 대부분의 OS가 멀티 스레딩 기본 채택
- 웹 서버가 대표적인 멀티 스레드 응용 프로그램

### 장점
1. 시스템 자원 소모 감소
  - 프로세스 생성 시스템 콜 감소
2. 시스템 처리량 증가
  - 스레드 간 데이터 공유 용이
  - Context Switching 비용 감소
3. 프로그램 응답시간 단축
  - 간단한 통신 방법

### 단점
- 주의깊은 설계 필요
- 디버깅 어려움
- 단일 프로세스 시스템에서 효과 제한적
- 자원 공유로 인한 동기화 문제
- 하나의 스레드 문제가 전체 프로세스에 영향

## 멀티 프로세스 대신 멀티 스레드를 사용하는 이유

### 1. 자원의 효율성 증대
- 시스템 콜 감소
- Context Switching 오버헤드 감소
- 메모리 공유로 자원 소모 감소

### 2. 처리비용 감소 및 응답시간 단축
- 스레드 간 통신 비용 감소
- 스레드 전환 속도가 프로세스 전환보다 빠름
- Stack 영역만 처리하는 Context Switching

### 주의사항
- 동기화 문제 고려 필요
- 전역변수 사용 시 충돌 가능성

## 참고 자료
- [Process vs Thread](https://gmlwjd9405.github.io/2018/09/14/process-vs-thread.html)
- [OS Restaurant](https://wormwlrm.github.io/2021/10/04/OS-Restaurant.html)